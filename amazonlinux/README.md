# amazonlinux

## Usage

```
$ git clone git@github.com:sonohen/docker-image.git
$ cd amazonlinux
$ docker build --build-arg \
	user=some_user \
	pass=some_pass \
	git_user_name=some_git_user_name \
	git_user_email=some_git_user_email \
	.
```

## File tree

File tree is as follows:

```
docker-image/amazonlinux/
├── Dockerfile
├── README.md
├── aws
│   ├── config
│   └── credentials
├── ssh
│   ├── id_ed25519
│   └── id_ed25519.pub
└── udemy-sample1.pem
```

## Prerequisitions

1. Make ssh credentials available in `amazonlinux/ssh`, which is used to use git:

```
amazonlinux/ssh
|-- id_ed25519
`-- id_ed25519.pub
```

Public key (`id_ed25519.pub`) should be the same as the key registered in GitHub.com, and also these can be generated by `ssh-keygen -t ed25519`. For more details, see `ssh-keygen(1)`.

2. Get Access Key and Secret Access Key pair from IAM and write them to `amazonlinux/aws/credentials` like this:

```
$ cat amazonlinux/aws/credentials
[default]
aws_access_key_id = xxx
aws_secret_access_key = xxx
```

Please be aware that this pair can get only when you create IAM user. If you don't remember Secret Access Key, you need to re-create IAM user.

3. Check if region setting is proper for you. The default region is `ap-northeast-1`.

## What you can do with this
 
- Access to AWS resources using AWS CLI like: `aws s3 ls`
- Access to EC2 instances using `ssh` like: `ssh -i udemy-sample1.pem ec2-user@xxx.xxx.xxx.xxx`
- Write code in Rust and compile them.
